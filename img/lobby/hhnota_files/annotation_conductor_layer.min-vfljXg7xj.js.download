define(["require","exports","tslib","external/lodash","external/react-redux","external/reselect","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/selectors","comments2/transforms","modules/clean/react/css","spectrum_comments/annotation_conductor_layer"],function(n,e,t,o,r,a,i,c,s,u,d){"use strict";function m(n,e){return"image"===n.type?o.isUndefined(e):n.regions[0].page===e}function l(){var n=function(n,e){return e.page},e=a.createSelector([c.getPendingNumberedAnnotation,n],function(n,e){return n&&m(n,e)?s.numberedAnnotationToIInteractionAnnotation(n):null});return function(n,t){return c.getIsComments2Ready(n)?{canCreate:c.canCreateAnnotations(n),canDismiss:c.getEditorIsEmpty(n),annotation:e(n,t)}:{canCreate:!1,canDismiss:!1,annotation:null}}}function g(n,e){var o=e.layerSize,r=e.page;return{onClick:function(e){return n(i.Actions.activateThreadByLayerClick(t.__assign({},e,{page:r}),o))},onAnnotationChange:function(e,t){null===e?n(i.Actions.clearPendingNumberedAnnotation()):(n(i.Actions.setPendingNumberedAnnotation(s.iInteractionAnnotationToNumberedAnnotation(e,r))),t||(n(i.Actions.requestEditorFocus()),n(void 0!==r?i.Actions.markOnboardedIfUnmarked("document_preview_surface"):i.Actions.markOnboardedIfUnmarked("image_preview_surface"))))},onHoverPointChange:function(e){n(e?i.Actions.hoverThreadByLayer(t.__assign({},e,{page:r}),o):i.Actions.hoverThread(void 0))}}}function _(n,e,r){return t.__assign({},n,e,o.omit(r,"page"))}Object.defineProperty(e,"__esModule",{value:!0}),o=t.__importStar(o),c=t.__importStar(c);var f=r.connect(l,g,_)(d.AnnotationConductorLayer),A=u.requireCssWithComponent(f,["/static/js/spectrum_comments/index.web-vflBmTBLv.css"]);e.AnnotationConductorLayer=A});
//# sourceMappingURL=annotation_conductor_layer.min.js-vfl_r_cIS.map