define("modules/clean/react/home/unread/action_menu",["require","exports","tslib","react","spectrum/overflow_button","spectrum/popover","modules/core/i18n"],function(e,t,a,o,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o);var s=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderItems=function(){return t.props.actions.map(function(e){return o.default.createElement(i.PopoverContentItem,{className:t.className("-menu-item__"+e.key),key:e.key,value:e.onClickHandler},e.text)})},t.stopEvent=function(e){e.stopPropagation(),e.preventDefault()},t.handleSelection=function(e,t){e(t)},t}return a.__extends(t,e),t.prototype.className=function(e){return this.props.classNamePrefix+e},t.prototype.render=function(){var e={"aria-label":r._("More actions"),onDoubleClick:function(e){e.stopPropagation()}},t=o.default.createElement(n.OverflowButton,a.__assign({tagName:"span",className:this.className("__context-menu-button"),"aria-label":r._("More Actions")},e));return o.default.createElement("div",{onClick:this.stopEvent,className:this.className("__context-menu")},o.default.createElement(i.Popover,{onSelection:this.handleSelection},o.default.createElement(i.PopoverTrigger,{className:this.className("__context-menu-trigger")},t),o.default.createElement(i.PopoverContent,{attachment:"right"},this.renderItems())))},t.displayName="ActionMenu",t})(o.default.PureComponent);t.ActionMenu=s}),define("modules/clean/react/home/unread/activity_snippet",["require","exports","tslib","react"],function(e,t,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),t.UnreadActivitySnippet=function(e){var t=e.snippetElement,a=e.aggregationText,n=t.props.children?t:null;return o.default.createElement("div",{className:"home__unread-activity"},o.default.createElement("div",{className:"home__unread-activity-snippet",children:n}),a?o.default.createElement("div",{className:"home__doc-sticker"},a):null)},t.UnreadActivitySnippet.displayName="UnreadActivitySnippet"}),define("modules/clean/react/home/unread/card",["require","exports","tslib","external/lodash","react","external/classnames","modules/clean/react/home/constants","modules/clean/react/home/util/logging/availability_logger_common","modules/clean/react/home/unread/action_menu","modules/clean/react/home/unread/activity_snippet","modules/clean/react/home/unread/detail","modules/clean/react/home/unread/helpers","modules/clean/react/home/util/doc_with_avatar_icon","modules/clean/react/home/util/logging/unread_logger","modules/clean/react/home/util/navigation","modules/clean/react/home/post_tti/api","modules/core/i18n","modules/core/exception","spectrum/checkbox"],function(e,t,a,o,n,i,r,s,c,l,u,d,p,m,f,_,h,N,T){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importStar(o),n=a.__importDefault(n),i=a.__importDefault(i);var g=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.renderActionMenu=function(){var e=[{key:"mark-as-read",text:h._("Mark as read"),onClickHandler:this.props.markRead}];return n.default.createElement(c.ActionMenu,{actions:e,classNamePrefix:"unread-item"})},t.prototype.render=function(){var e=this,t=this.props.actionMetadata,a=t.actorName,o=t.avatarIcon,r=t.notificationType,s=t.snippetText,c=this.props.resourceMetadata,d=c.resourceTitle,m=c.uriString,f=i.default({"home__unread-row--first":this.props.isFirstCard,"home__unread-row":!0}),_=this.props.isTaskNotification,h=function(t,a,o){t.stopPropagation(),t.preventDefault(),"BUTTON"!==o.tagName&&e.props.logClickAndOpen(m,a,t)},N=function(e){return function(t){return h(t,e,t.target)}},g=function(e){return function(t){"Enter"===t.key&&h(t,e,t.target)}},E=_&&this.props.tasks.length>0&&this.props.tasks[0];return n.default.createElement("span",{className:f,onClick:N("row"),onKeyPress:g("row"),"aria-label":"unread-item",role:"button"},n.default.createElement("div",{className:"unread-item__container"},n.default.createElement("div",{className:"unread-item__sub-container"},n.default.createElement("span",{className:"unread-item__icon",onClick:N("icon"),onKeyPress:g("icon"),"aria-label":"unread-item-icon",role:"button"},n.default.createElement(p.DocWithAvatarIcon,{avatarIconModel:o,displayType:this.props.displayType,fileName:this.props.resourceMetadata.resourceTitle})),n.default.createElement("div",{className:"unread-item__text"},n.default.createElement("div",{className:"unread-item__title-group"},n.default.createElement("span",{className:"unread-item__title",onClick:N("title"),onKeyPress:g("title"),"aria-label":d,tabIndex:0,role:"button"},d)),n.default.createElement("span",{className:"unread-item__detail",onClick:N("detail"),onKeyPress:g("detail"),"aria-label":"unread-item-detail",role:"button"},n.default.createElement("div",{className:"unread-item__dot"}),n.default.createElement(u.UnreadEntryDetail,{actorName:a,notificationType:r,feedTime:this.props.feedTime,now:this.props.now,isTaskNotification:_})),n.default.createElement("span",{className:"unread-item__snippet",onClick:N("snippet"),onKeyPress:g("snippet"),"aria-label":"unread-item-snippet",role:"button"},n.default.createElement(l.UnreadActivitySnippet,{snippetElement:s,aggregationText:this.props.stickerText}))),this.renderActionMenu()),E?n.default.createElement("div",{className:"unread-item__checkbox-item-wrapper"},n.default.createElement(T.Checkbox,{className:"unread-item__checkbox",checked:E.isComplete?"checked":"unchecked",disabled:!0}),n.default.createElement("div",{className:i.default({"unread-item__checkbox-text":!0,"unread-item__checkbox-text-unread":E.isComplete})},E.name)):null))},t.displayName="UnreadCardView",t})(n.default.PureComponent);t.UnreadCardView=g;var E=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.logClickAndOpen=function(e,a,o){t.markReadNotif(),o.preventDefault(),f.logAndNavigate(e,function(){return m.getHomeUnreadLogger().logOpenUnreadNotificationItem(t.props.notification,s.withHomePrefix(r.HomeSections.UNREAD),a,t.props.position)})},t.markReadNotif=function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,_.waitForHomeTTI()];case 1:return e.sent().acknowledgeNotification(this.props.notification),[2]}})})},t.logAndMarkRead=function(e){return a.__awaiter(t,void 0,void 0,function(){var t,o,n;return a.__generator(this,function(a){return t=this.props,o=t.notification,n=t.position,m.getHomeUnreadLogger().logMarkNotificationAsRead(o,n),e.stopPropagation(),e.preventDefault(),this.markReadNotif(),[2]})})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.notification,a=e.isFirstCard,i=e.now,s=e.shouldShowTaskNotifications,c=d.isTaskNotification(t),l=t.typeData,u=c?[o.get(l,"preview.tasks.tasks")[0]]:[],p=d.getNotificationMetadata(t,s);return p?n.default.createElement(g,{actionMetadata:p.actionMetadata,feedTime:t.feedTime,displayType:p.displayType,isFirstCard:a,logClickAndOpen:this.logClickAndOpen,markRead:this.logAndMarkRead,resourceMetadata:p.resourceMetadata,stickerText:null,now:i,isTaskNotification:c,tasks:u,shouldShowTaskNotifications:s}):(N.reportException({err:new Error("missing metadata for Home Access Unread card"),tags:[r.ExceptionTags.UNREAD]}),null)},t.displayName="UnreadNotificationCard",t})(n.default.PureComponent);t.UnreadNotificationCard=E}),define("modules/clean/react/home/unread/constants",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNREAD_NOTIFICATION_TYPES={DOC_SHARE:"DOC_SHARE",FOLDER_SHARE:"FOLDER_SHARE",MENTION:"MENTION",COMMENT:"COMMENT",UNKNOWN:"UNKNOWN"}}),define("modules/clean/react/home/unread/detail",["require","exports","tslib","react","modules/clean/datetime","modules/clean/react_format","modules/core/i18n","modules/clean/react/home/unread/constants"],function(e,t,a,o,n,i,r,s){"use strict";function c(e,t){switch(void 0===t&&(t=!1),e){case s.UNREAD_NOTIFICATION_TYPES.DOC_SHARE:return r._("<actor_span>%(actor_name)s</actor_span> shared %(ago)s");case s.UNREAD_NOTIFICATION_TYPES.FOLDER_SHARE:return r._("<actor_span>%(actor_name)s</actor_span> invited you %(ago)s");case s.UNREAD_NOTIFICATION_TYPES.MENTION:return r._("<actor_span>%(actor_name)s</actor_span> mentioned you %(ago)s");case s.UNREAD_NOTIFICATION_TYPES.COMMENT:return r._("<actor_span>%(actor_name)s</actor_span> commented %(ago)s");default:return t?r._("<actor_span>%(actor_name)s</actor_span> assigned you a to-do %(ago)s"):r._("Unknown notification")}}Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),n=a.__importStar(n),t.UnreadEntryDetail=function(e){var t=e.actorName,a=e.feedTime,r=e.now,s=e.notificationType,l=e.isTaskNotification,u=i.reactFormat(c(s,l),{actor_name:t,actor_span:o.default.createElement("span",{className:"home__unread-detail-actor"}),ago:n.agoFromDate(a,r,!1,!0)});return o.default.createElement("div",{className:"home__unread-detail-header",children:u,tabIndex:0})},t.UnreadEntryDetail.displayName="UnreadEntryDetail"}),define("modules/clean/react/home/unread/helpers",["require","exports","tslib","react","external/lodash","modules/clean/react/home/constants","modules/clean/react/home/unread/constants","modules/clean/react/user_notifications/constants","modules/core/exception"],function(e,t,a,o,n,i,r,s,c){"use strict";function l(e){var t=e.bluenoteNotificationTypeId,a=e.bluenoteActor,o=e.bluenoteObject,n=e.bluenoteTypedData;if(!(t&&a&&o&&n))return"invalid";switch(t){case s.BNNotificationTypeIdentifier.DROPBOX_FILE_COMMENT:case s.BNNotificationTypeIdentifier.DROPBOX_SHARED_CONTENT:case s.BNNotificationTypeIdentifier.PAPER_SHARE:case s.BNNotificationTypeIdentifier.PAPER_COMMENT:case s.BNNotificationTypeIdentifier.PAPER_MENTION:return"standard";case s.BNNotificationTypeIdentifier.COMMENTS2_COMMENT:return"comments2"}return u(e)?"task":"invalid"}function u(e){return n.get(e.typeData,"preview.tasks.tasks[0]")&&""!==e.bluenoteObject.name}function d(e,t){var a=l(e);return!("task"!==a||!t)||("standard"===a||"comments2"===a)&&(t&&u(e)&&c.reportStack("task notification with valid bluenoteTypeId",{severity:c.SEVERITY.NONCRITICAL,exc_extra:{bluenoteTypeId:e.bluenoteNotificationTypeId}}),!0)}function p(e){return"task"===l(e)}function m(e,a){if(!d(e,a))return null;var i,c,l,u={avatarInitials:e.bluenoteActor.initials,avatarUrl:e.bluenoteActor.avatarUrl};switch(e.bluenoteNotificationTypeId){case s.BNNotificationTypeIdentifier.DROPBOX_FILE_COMMENT:i=r.UNREAD_NOTIFICATION_TYPES.COMMENT,l=e.bluenoteTypedData,c=l.commentText;break;case s.BNNotificationTypeIdentifier.DROPBOX_SHARED_CONTENT:i=e.bluenoteObject.type===s.BluenoteObjectTypes.DROPBOX_FILE?r.UNREAD_NOTIFICATION_TYPES.DOC_SHARE:r.UNREAD_NOTIFICATION_TYPES.FOLDER_SHARE,l=e.bluenoteTypedData,c=l.shareText;break;case s.BNNotificationTypeIdentifier.PAPER_SHARE:i=r.UNREAD_NOTIFICATION_TYPES.DOC_SHARE,l=e.bluenoteTypedData,c=l.shareText;break;case s.BNNotificationTypeIdentifier.PAPER_COMMENT:i=r.UNREAD_NOTIFICATION_TYPES.COMMENT,l=e.bluenoteTypedData,c=l.commentText;break;case s.BNNotificationTypeIdentifier.PAPER_MENTION:i=r.UNREAD_NOTIFICATION_TYPES.MENTION,l=e.bluenoteTypedData,c=l.mentionText;break;case s.BNNotificationTypeIdentifier.COMMENTS2_COMMENT:i=r.UNREAD_NOTIFICATION_TYPES.COMMENT,l=e.bluenoteTypedData,c=l.previewQuote;break;default:i=r.UNREAD_NOTIFICATION_TYPES.UNKNOWN,c=""}var m,f={actorName:e.bluenoteActor.displayName,avatarIcon:u,notificationType:i,snippetText:o.default.createElement("span",null,n.unescape(c))};if(p(e)){var _=e.bluenoteObject.name;m={resourceTitle:n.unescape(_),uriString:n.unescape(e.typeData.surfaceAction.params.urlPath)}}else m={resourceTitle:n.unescape(e.bluenoteObject.name),uriString:n.unescape(e.bluenoteObject.url)};return{actionMetadata:f,resourceMetadata:m,displayType:t.BluenoteObjectTypeToDisplayType[e.bluenoteObject.type]}}var f;Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),n=a.__importStar(n),c=a.__importStar(c),t.BluenoteObjectTypeToDisplayType=(f={},f[s.BluenoteObjectTypes.DROPBOX_FILE]=i.DisplayTypes.FILE,f[s.BluenoteObjectTypes.DROPBOX_FOLDER]=i.DisplayTypes.FOLDER,f[s.BluenoteObjectTypes.PAPER_PAD]=i.DisplayTypes.PAPER_DOCUMENT,f[s.BluenoteObjectTypes.PAPER_FOLDER]=i.DisplayTypes.PAPER_FOLDER,f),t.hasTaskNotificationFields=u,t.isValidNotification=d,t.isTaskNotification=p,t.getNotificationMetadata=m}),define("modules/clean/react/home/unread/home_access_unread",["require","exports","tslib","react","react-dom","external/classnames","modules/clean/react/home/constants","modules/clean/react/home/util/logging/timing_component","modules/clean/react/home/util/logging/timing_logger","modules/clean/react/home/util/show_hide_link","modules/clean/react/home/unread/card","modules/clean/react/home/unread/store","modules/clean/react/home/util/logging/activity_logger","modules/clean/react/home/util/logging/unread_logger","modules/clean/react/home/post_tti/api","modules/clean/react/home/store","modules/clean/react/home/actions","modules/clean/react/home/unread/unread_empty_state"],function(e,t,a,o,n,i,r,s,c,l,u,d,p,m,f,_,h,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),n=a.__importDefault(n),i=a.__importDefault(i),t.initPrefetch=d.getHomeUnreadStore;var T=(function(e){function t(t){var o=e.call(this,t)||this;return o.onStoreUpdate=function(){return o.setState(o.getStateFromStore())},o.toggleShowAll=function(){p.homeActivityLogger.logClickShowAll("unread",!o.state.showAll),o.setState({showAll:!o.state.showAll});var e=n.default.findDOMNode(o.refs.lastUnhiddenCard);if(e){var t=e.querySelector("a");t&&t.focus()}},o.onChangeUnreadVisibility=function(){var e=o.props.isHiddenByUser;h.HomeActions.setSectionVisibility(_.getUserId(),{".tag":"unread"},e),p.homeActivityLogger.logShowHideSection(r.HomeSections.UNREAD,!e)},o.removeStoreListener=d.getHomeUnreadStore().addListener(o.onStoreUpdate),o.state=a.__assign({},o.getStateFromStore(),{showAll:!1}),o}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.triggerOnboarding()},t.prototype.componentWillUnmount=function(){this.removeStoreListener&&this.removeStoreListener()},t.prototype.componentDidUpdate=function(){this.triggerOnboarding()},t.prototype.triggerOnboarding=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,f.waitForHomeTTI()];case 1:return e.sent().triggerUnreadOnboarding(),[2]}})})},t.prototype.getStateFromStore=function(){var e=d.getHomeUnreadStore(),t=e.getNotifications(),a=e.getLoadingState();if(a===r.LoadingStates.SUCCESS){c.homeTimingLogger.logTTData(r.HomeSections.UNREAD)&&m.getHomeUnreadLogger().logUnreadShown(t.length,t.length>4)}return{loadingState:a,notifications:t}},t.prototype.shouldShowSection=function(){return!_.getHomeStore().getPreTTIProps().shouldHideUnreadEmptyState||this.state.loadingState===r.LoadingStates.SUCCESS&&this.state.notifications.length>0},t.prototype.renderList=function(){var e=this,t=this.state.showAll?this.state.notifications:this.state.notifications.slice(0,4);if(0===t.length)return o.default.createElement(N.UnreadEmptyState,null);m.getHomeUnreadLogger().logRenderedNotifications(t);var a=_.getHomeStore().getPreTTIProps().shouldShowTaskNotifications;return t.map(function(t,n){return o.default.createElement(u.UnreadNotificationCard,{notification:t,position:n,isFirstCard:0===n,key:t.key,now:e.props.now,shouldShowTaskNotifications:a,ref:4===n?"lastUnhiddenCard":void 0})})},t.prototype.renderShowHideLink=function(e){return 0===e?null:o.default.createElement(l.ShowHideLink,{key:"showHideLink",onClick:this.toggleShowAll,isExpanded:this.state.showAll,hiddenItemCount:e,canLoadMore:!1})},t.prototype.render=function(){var e=this.props,t=e.canRenderItems,a=e.isHiddenByUser;if(!t||!this.shouldShowSection())return null;var n=this.state.notifications.length,r=Math.max(n-4,0),s={"home-access-section__content":!0,"home__unread-items":!0};return o.default.createElement("li",{className:"home-access-section"},o.default.createElement(N.UnreadHeader,{isHiddenByUser:a,buttonAction:this.onChangeUnreadVisibility}),a?null:o.default.createElement("div",{className:"unread-container"},o.default.createElement("div",{key:"list",className:i.default(s)},this.renderList()),this.renderShowHideLink(r)))},t.displayName="HomeAccessUnread",t})(o.default.PureComponent);t.HomeAccessUnreadInner=T,t.HomeAccessUnread=s.timingComponent(T,r.HomeSections.UNREAD),t.RootComponent=function(e){return o.default.createElement(t.HomeAccessUnread,a.__assign({},e))}}),define("modules/clean/react/home/unread/store",["require","exports","tslib","external/lodash","modules/clean/flux/dispatcher","modules/clean/flux/flux_store","modules/clean/react/home/constants","modules/clean/react/home/unread/helpers","modules/clean/react/user_notifications/api_helper","modules/clean/react/user_notifications/constants","modules/clean/react/home/post_tti/api","modules/clean/react/home/util/logging/availability_logger","modules/clean/react/home/store"],function(e,t,a,o,n,i,r,s,c,l,u,d,p){"use strict";function m(){return _||(_=new f),_}Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importStar(o),t.UnreadActionTypes={ON_UNREAD_PREFETCH:"HOME_UNREAD_STORE_ON_UNREAD_PREFETCH",UPDATE_FROM_NOTIFICATIONS_STORE:"HOME_UNREAD_STORE_UPDATE_FROM_NOTIFICATIONS_STORE"};var f=(function(e){function i(){var o=e.call(this,n.Dispatcher)||this;o.listenToUserNotificationsStorePostTTI=function(){return a.__awaiter(o,void 0,void 0,function(){var e;return a.__generator(this,function(a){switch(a.label){case 0:return e=this,[4,u.waitForHomeTTI()];case 1:return e.asyncUserNotificationStore=a.sent().listenToAndGetNotificationStore(),n.Dispatcher.dispatch({type:t.UnreadActionTypes.UPDATE_FROM_NOTIFICATIONS_STORE}),[2]}})})},o.keyToNotification={},o.sortedNotifications=[],o.isLoading=!0;var i=!0;return d.getHomeAvailabilityLogger().handlePrefetch(r.HomePrefetchTypes.RETRIEVE_UNREAD,function(e){o.update(c.parseGetAllResponse(e).notifications,!1),i||n.Dispatcher.dispatch({type:t.UnreadActionTypes.ON_UNREAD_PREFETCH}),o.listenToUserNotificationsStorePostTTI()}),i=!1,o}return a.__extends(i,e),i.prototype.update=function(e,t){var a=this,n=this.isLoading,i=p.getHomeStore().getPreTTIProps().shouldShowTaskNotifications;return this.isLoading=this.isLoading&&t,e.forEach(function(e){s.isValidNotification(e,i)&&(a.keyToNotification[e.key]=e)}),this.sortedNotifications=o.values(this.keyToNotification).filter(function(e){return e.isUnread}).sort(c.userNotificationComparator),!!e.length||n!==this.isLoading},i.prototype.onUserNotificationsStoreUpdate=function(){this.asyncUserNotificationStore&&(this.getDispatcher().waitFor([this.asyncUserNotificationStore.getDispatchToken()]),this.update(this.asyncUserNotificationStore.getAll(),this.asyncUserNotificationStore.isLoading())&&this.__emitChange())},i.prototype.__onDispatch=function(e){switch(e.action.type){case t.UnreadActionTypes.ON_UNREAD_PREFETCH:this.__emitChange();break;case t.UnreadActionTypes.UPDATE_FROM_NOTIFICATIONS_STORE:case l.ActionTypes.LOAD_SUCCESS:case l.ActionTypes.LOAD_FAILURE:case l.ActionTypes.ACKNOWLEDGEMENT_REQUEST:case l.ActionTypes.ACKNOWLEDGEMENT_REQUEST_SINGLE:case l.ActionTypes.MARK_AS_SEEN_REQUEST:this.onUserNotificationsStoreUpdate()}},i.prototype.getNotifications=function(){return this.sortedNotifications},i.prototype.getLoadingState=function(){return this.isLoading?r.LoadingStates.LOADING:r.LoadingStates.SUCCESS},i})(i.FluxStore);t.HomeUnreadStore=f;var _;t.getHomeUnreadStore=m}),define("modules/clean/react/home/util/avatar_icon",["require","exports","tslib","react","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/react/home/store"],function(e,t,a,o,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),n=a.__importDefault(n);var s=(function(e){function t(t){var a=e.call(this,t)||this;return a.state={avatarImage:r.getHomeStore().getThumbStore().get_thumb(t.avatarIcon.avatarUrl),_thumbRequestId:null},a}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.bindAvatarUrl(this.props.avatarIcon)},t.prototype.componentWillUnmount=function(){this.unbindAvatarUrl()},t.prototype.componentWillReceiveProps=function(e){var t=this.props.avatarIcon,a=e.avatarIcon;t.avatarUrl!==a.avatarUrl&&(this.unbindAvatarUrl(),this.bindAvatarUrl(e.avatarIcon))},t.prototype.bindAvatarUrl=function(e){var t=this;if(e.avatarUrl){var a=r.getHomeStore().getThumbStore(),o=a.bind_url(e.avatarUrl,{onSuccess:function(){t.setState({avatarImage:a.get_thumb(e.avatarUrl)})}});this.setState({_thumbRequestId:o})}},t.prototype.unbindAvatarUrl=function(){this.state._thumbRequestId&&(r.getHomeStore().getThumbStore().unbind_url(this.state._thumbRequestId),this.setState({_thumbRequestId:null}))},t.prototype.render=function(){var e=this.props.avatarIcon,t={alt:"",name:e.avatarInitials||"",dimension:this.props.size,initials:e.avatarInitials||"",shape:"CIRCLE",optionalClass:this.props.className,loadScooterCss:!1},r=o.default.createElement(i.InitialsAvatarWithColorDerivedFromName,a.__assign({},t));return o.default.createElement(n.default,a.__assign({},t,{loadScooterCss:!1,defaultAvatar:r,photoUrl:this.state.avatarImage}))},t.displayName="AvatarIcon",t})(o.default.PureComponent);t.AvatarIcon=s}),define("modules/clean/react/home/util/doc_with_avatar_icon",["require","exports","tslib","react","modules/clean/react/home/util/resource_icon","modules/clean/react/home/util/avatar_icon","modules/clean/avatar/size"],function(e,t,a,o,n,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=a.__importDefault(o),t.DocWithAvatarIcon=function(e){var t=e.avatarIconModel,a=e.displayType,s=e.fileName;return o.default.createElement("div",{className:"home__doc-with-avatar-icon"},o.default.createElement(n.HomeResourceIcon,{displayType:a,fileName:s}),o.default.createElement(i.AvatarIcon,{avatarIcon:t,className:"home__doc-avatar-icon",size:r.AVATAR_DIMENSION_BY_SIZE.SMALL}))},t.DocWithAvatarIcon.displayName="DocWithAvatarIcon"}),define("modules/clean/react/home/util/logging/unread_logger",["require","exports","tslib","modules/clean/react/home/api","modules/clean/react/home/store","modules/clean/react/home/constants","modules/clean/react/home/unread/helpers","modules/clean/react/home/post_tti/api"],function(e,t,a,o,n,i,r,s){"use strict";function c(){return null===u&&(u=new l),u}Object.defineProperty(t,"__esModule",{value:!0});var l=(function(){function e(){this.renderedNotifications={}}return e.prototype.logNotification=function(e,t,s){if(void 0===s&&(s={}),!t.bluenoteNotificationTypeId||!t.bluenoteObject)return Promise.resolve();var c=r.BluenoteObjectTypeToDisplayType[t.bluenoteObject.type],l=i.DisplayTypeToResourceType[c],u={entry_created:t.feedTime.getTime(),notification_type:t.bluenoteNotificationTypeId,resource_type:l,target_object_key:t.targetObjectKey},d=a.__assign({},u,s);return o.logHomeActivity({eventName:e,extra:d,role:n.getHomeStore().getRole()})},e.prototype.logUnreadShown=function(e,t){return o.logHomeActivity({eventName:i.LoggingTypes.UNREAD_SHOWN,role:n.getHomeStore().getRole(),extra:{num_items:e,has_hidden_rows:t}})},e.prototype.logOpenUnreadNotificationItem=function(e,t,a,o){s.waitForHomeTTI().then(function(t){return t.logOpenUnreadNotificationItem(e)});var n=i.LoggingTypes.OPEN_UNREAD_ITEM,r={source:t,click_origin:a,position:o};return this.logNotification(n,e,r)},e.prototype.logMarkNotificationAsRead=function(e,t){return s.waitForHomeTTI().then(function(t){return t.logMarkNotificationAsRead(e)}),this.logNotification(i.LoggingTypes.MARK_AS_READ,e,{position:t})},e.prototype.logRenderedNotifications=function(e){var t=this,a=e.filter(function(e){return e.id&&!t.renderedNotifications[e.id]});0!==a.length&&(a.forEach(function(e){t.renderedNotifications[e.id]=!0}),s.waitForHomeTTI().then(function(e){return e.logRenderedNotifications(a)}))},e})();t.HomeUnreadLogger=l;var u=null;t.getHomeUnreadLogger=c});
//# sourceMappingURL=pkg-home-unread.min.js-vflHZPOtB.map