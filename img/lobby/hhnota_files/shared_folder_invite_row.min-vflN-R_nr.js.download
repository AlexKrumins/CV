define(["require","exports","tslib","modules/core/i18n","react","modules/clean/react/home/unread/activity_snippet","spectrum/media_table","spectrum/popover","spectrum/table","modules/clean/sharing/shared_folder_invite/shared_folder_invite_tracker","external/classnames","modules/clean/sharing/shared_folder_invite/shared_folder_invite_delete_modal","modules/clean/react/modal"],function(e,t,r,n,a,o,l,d,i,s,c,u,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),a=r.__importDefault(a),c=r.__importDefault(c);var f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mountFolder=function(){t.props.track(s.SharedFolderInvitesEvents.ADD),t.props.mountFolder(t.props.user.id,t.props.folderInvite)},t.onCloseDeleteModal=function(){p.Modal.close()},t.openDeleteModal=function(){var e=a.default.createElement(u.SharedFolderInviteDeleteModal,{user:t.props.user,folderMetadata:t.props.folderInvite,onRequestClose:t.onCloseDeleteModal,unmountFolder:t.props.unmountFolder});p.Modal.showInstance(e)},t.handleMediaActionClick=function(e){e.stopPropagation()},t.handleAddClick=function(){t.props.folderInvite.can_mount?t.mountFolder():t.props.openModal()},t}return r.__extends(t,e),t.prototype.renderHeading=function(){return a.default.createElement("div",{className:"shared-folder-invite-row__heading"},this.props.header.heading)},t.prototype.renderSubheading=function(){var e=this.props.header.subheading;return e?a.default.createElement("div",{className:"shared-folder-invite-row__subheading"},e):null},t.prototype.renderInviteMessage=function(){var e=this.props.header.inviteMessage;return e?a.default.createElement("div",{className:"shared-folder-invite-row__message"},a.default.createElement(o.UnreadActivitySnippet,{snippetElement:a.default.createElement("span",null,e),aggregationText:null})):null},t.prototype.renderDetails=function(){return a.default.createElement("div",{className:"shared-folder-invite-row__details"},this.renderHeading(),this.renderSubheading(),this.renderInviteMessage())},t.prototype.renderOverflowActions=function(e){return a.default.createElement(d.Popover,{className:"shared-folder-invite-row__overflow",onSelection:this.openDeleteModal,closeOnSelection:!0},a.default.createElement(d.PopoverTrigger,null,a.default.createElement(l.MediaActionsOverflowButton,{"aria-label":n._("More Actions"),isHovered:e,tagName:"span"})),a.default.createElement(d.PopoverContent,{attachment:"right",position:"below"},a.default.createElement(d.PopoverContentItem,{className:"delete",value:"delete"},n._("Remove"))))},t.prototype.render=function(){var e=this,t=c.default({"shared-folder-invite-row":!0,"shared-folder-invite-row--with-message":!!this.props.header.inviteMessage});return a.default.createElement(i.Table,{className:t},a.default.createElement(i.TableBody,null,a.default.createElement(l.MediaRow,{onClick:this.props.openModal},function(t){var r=t.isHovered;return[a.default.createElement(l.MediaCell,{key:"icon",icon:e.props.folderIcon,className:"shared-folder-invite-row__icon"}),a.default.createElement(l.MediaCell,{key:"details",className:"shared-folder-invite-row__details"},e.renderDetails()),a.default.createElement(l.MediaCell,{key:"actions",className:"shared-folder-invite-row__actions"},a.default.createElement(l.MediaActions,{onClick:e.handleMediaActionClick},a.default.createElement(l.MediaActionsButton,{className:"shared-folder-invite-row__add",isHovered:r,onClick:e.handleAddClick},n._("Add")),e.renderOverflowActions(r)))]})))},t})(a.default.PureComponent);t.SharedFolderInviteRowComponent=f,t.SharedFolderInviteRow=s.withSharedFolderInviteTracking(f)});
//# sourceMappingURL=shared_folder_invite_row.min.js-vflewyjNi.map