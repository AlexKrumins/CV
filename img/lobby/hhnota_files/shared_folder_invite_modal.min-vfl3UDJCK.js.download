define(["require","exports","tslib","react","spectrum/modal","modules/core/i18n","spectrum/button","modules/clean/display_format","modules/clean/sharing/access_level","modules/core/browser","modules/core/uri","modules/clean/sharing/shared_folder_invite/shared_folder_invite_tracker","modules/clean/growth/gating","modules/clean/growth/experiment"],function(e,t,r,o,a,n,d,i,s,l,m,c,p,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=r.__importStar(o),l=r.__importStar(l);var _=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleUpgradeClick=function(){t.props.track(c.SharedFolderInvitesEvents.UPGRADE);var e=t.props.gatingStatus&&t.props.gatingStatus.sku===p.GatingSku.BASIC?"/low-space":"/upgrade";l.redirect(new m.URI({path:e,query:{_tk:"sharegrowth_mirage_modal_upgrade"}}).toString())},t.handleAddClick=function(){t.props.track(c.SharedFolderInvitesEvents.ADD),t.props.mountFolder(t.props.user.id,t.props.folderMetadata),t.props.onRequestClose()},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.track(c.SharedFolderInvitesEvents.MODAL_VIEW)},t.prototype.renderModalBodyContent=function(){var e="",t=this.props.folderMetadata;if(t.invite_info){var r=t.invite_info,a=r.display_name,i=r.email;e=t.access_type===s.ACCESS_LEVEL.WRITER?n._("%(owner)s (%(owner_email)s) invited you to edit this folder").format({owner:a,owner_email:i}):n._("%(owner)s (%(owner_email)s) invited you to view this folder").format({owner:a,owner_email:i})}return t.can_mount?o.createElement("div",{className:"shared-folder-invite-modal__body"},o.createElement("div",{className:"shared-folder-invite-modal__text"},o.createElement("div",{className:"shared-folder-invite-modal__header"},e),n._("Add it to Dropbox to start working together")),o.createElement(d.Button,{onClick:this.handleAddClick}," ",n._("Add to Dropbox")," ")):o.createElement("div",{className:"shared-folder-invite-modal__body"},o.createElement("div",{className:"shared-folder-invite-modal__text"},o.createElement("div",{className:"shared-folder-invite-modal__header"},n._("Not enough space")),n._("To add this folder youâ€™ll need more space in your Dropbox")),o.createElement(d.Button,{onClick:this.handleUpgradeClick}," ",n._("Upgrade to add folder")," "))},t.prototype.render=function(){var e=this.props.folderMetadata;return o.createElement(a.Modal,{ariaLabel:n._("Add shared folder modal"),open:!0,className:"shared-folder-invite-modal",displayCloseButton:!0,onRequestClose:this.props.onRequestClose},o.createElement("div",{className:"shared-folder-invite-modal__title"},this.props.folderIcon,o.createElement("div",{className:"shared-folder-invite-modal__file-info"},e.name,!!e.folder_size&&o.createElement("div",{className:"shared-folder-invite-modal__file-size"},i.format_bytes(e.folder_size)))),this.renderModalBodyContent())},t})(o.Component);t.SharedFolderInviteModalComponent=_;var h=function(e){return o.createElement(u.Experiment,{user:e.user,featureName:c.sharedFolderInviteFeatureName,status:e.gatingStatus,render:function(t){return o.createElement(_,r.__assign({},e,{gatingStatus:t}))}})};t.SharedFolderInviteModal=c.withSharedFolderInviteTracking(h)});
//# sourceMappingURL=shared_folder_invite_modal.min.js-vflbWS7ci.map